language: generic
sudo: required
services:
  - docker

before_install:
  - docker build -t sori/docker-react -f Dockerfile.dev .  

script:
  - docker run -e CI=true sori/docker-react npm run test
  - echo "$AWS_ACCESS_KEY"
  - echo "$AWS_SECRET_KEY"

deploy:
  provider: elasticbeanstalk
  region: "us-east-2"
  app: "docker-react"
  env: "Dockerreact-env"
  bucket_name: "elasticbeanstalk-us-east-2-228194064843"
  bucket_path: "docker-react"
  on:
    branch: main
  access_key_id: 
    secure: "LStwXFBSN4g8kRFaGKIdB29FOSNcgBepUBVT1Bdf4MhD/rY9lR/1e9L3N2NF8pW0I1yai3Pj0Ml5R6upYX24kEJzbx0jl+PZxTJsH+F6uq8zFNNNbtk6xyXrvX88Z0qsXrhULBnefmonO1wKbxXLQuZb3+d/pZhZPM6BAhFviG3LHUE1TLCf3siSC3yXi8pywP2kmGwPoxZGA3mVaepmMaOVWv+/coPtJpJgtNpRxNOkkebN8yxEuYEnRrM0DaD+VL0GGDd2UxowqL8GaGILM1rZnK5Bb+IAObZjjd8mGK1xqaTmRQnioOSzCRxjAJC4n1NYXnXtzjWpPW4MHCVx6HnOA44BgkV3lsbLUBtX7gizv0QTtVEs7YSyhnWhWqtLOd1hxNaOa6WdmvcdpPHsPfIk37rFedzKJ2WSBEIgVHzEBkhZTvFKeNQEq8ag+vRy8EPz06mKLGd9cnIB70wvKPxcKoBGDakz2xMM+QZd4IIsUYnVWCVbEbVqIETWC6GAbPE5p7ydez/ldq2+lI+84o2nkDNhf+Gd1uaDC+P3Z1qbJW5KE70MbQW+Zsez8glZPjL7nTiAEUHUL81mvVH0izd73LYpAAL2/KFac/bjx/SfTABMhZMpi3LEgXg5ZC6HfiYsDkc26rfond8+bXRIWB9YzCgIk3reX09qrsSaSCg="
  secret_access_key: 
    secure: "SYI9TD16h9krJX2CEDzAgUnnlkkSy73CJ107KQM0Wm6M3XvGuYIsmiMIqvIFJS5bAXhSKOZ9r4CduTlbgt8+1lbS7K1cVUfCwWp7vGxKiZBx83sqAo9EqmYrIHXTabUMdpsy/yGbG4klSM9jlsSuK/ZbOeQWP9wahGMDGacA5NEXfBovDy8hYJAD3Y6z16SW/VbSG0Bx1Pq7/G7EE3sPjk8DsDbdaYcNle7ex6rbt8AAWjfKLWIRjF6ZNgQIBzv5MOGNa/yrMrBdQiHGaVdrJ1M8GizHN7Yv4cWZ8znRDz2sG3N4K95UhMmXTY9oMiaFj+NfMNCPmRqqLmAQadQF9hQLuqNSqtlGtd7GZctRSLVOi2u6ur4steug9MbqXfhvFUGc0hqRKRGRmGweqLR2bfW7t7JZkL+PU5Kmrn4yq+BJBVMR8lOlUPgM2MwnGX04WgWIkf52VI5jpRS1cBxrmiiTHShKz2dtFC4F0R7+IeCkZiewvShz3AqQKTDo/7C6jqGbCyziXaHBDFPMR8fb8ezQc+mY9xyzqYbZeMaW4qlwAPi0wQVshad9Qpk4EVg6OQ/21AEt1b9z6SZIDEqabEXCOInG1KnPuQjljE7ftrpZgmXTOjclLhmpjhmSrs2z47zypRugEJgprLNX5dvUoeufPRgpyyGY65CNXr2+8VI="
